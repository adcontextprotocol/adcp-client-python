{
  "$id": "/schemas/v1/adagents.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "additionalProperties": false,
  "description": "Declaration of authorized sales agents for advertising inventory. Hosted at /.well-known/adagents.json on publisher domains.",
  "examples": [
    {
      "$schema": "https://adcontextprotocol.org/schemas/v1/adagents.json",
      "authorized_agents": [
        {
          "authorized_for": "Official sales agent",
          "url": "https://agent.example.com"
        }
      ],
      "last_updated": "2025-01-10T12:00:00Z"
    },
    {
      "$schema": "https://adcontextprotocol.org/schemas/v1/adagents.json",
      "authorized_agents": [
        {
          "authorized_for": "All Meta properties",
          "property_tags": [
            "meta_network"
          ],
          "url": "https://meta-ads.com"
        }
      ],
      "contact": {
        "domain": "meta.com",
        "email": "adops@meta.com",
        "name": "Meta Advertising Operations",
        "seller_id": "pub-meta-12345",
        "tag_id": "12345"
      },
      "last_updated": "2025-01-10T15:30:00Z",
      "properties": [
        {
          "identifiers": [
            {
              "type": "ios_bundle",
              "value": "com.burbn.instagram"
            },
            {
              "type": "android_package",
              "value": "com.instagram.android"
            }
          ],
          "name": "Instagram",
          "property_type": "mobile_app",
          "publisher_domain": "instagram.com",
          "tags": [
            "meta_network",
            "social_media"
          ]
        },
        {
          "identifiers": [
            {
              "type": "ios_bundle",
              "value": "com.facebook.Facebook"
            },
            {
              "type": "android_package",
              "value": "com.facebook.katana"
            }
          ],
          "name": "Facebook",
          "property_type": "mobile_app",
          "publisher_domain": "facebook.com",
          "tags": [
            "meta_network",
            "social_media"
          ]
        },
        {
          "identifiers": [
            {
              "type": "ios_bundle",
              "value": "net.whatsapp.WhatsApp"
            },
            {
              "type": "android_package",
              "value": "com.whatsapp"
            }
          ],
          "name": "WhatsApp",
          "property_type": "mobile_app",
          "publisher_domain": "whatsapp.com",
          "tags": [
            "meta_network",
            "messaging"
          ]
        }
      ],
      "tags": {
        "messaging": {
          "description": "Messaging and communication apps",
          "name": "Messaging Apps"
        },
        "meta_network": {
          "description": "All Meta-owned properties",
          "name": "Meta Network"
        },
        "social_media": {
          "description": "Social networking applications",
          "name": "Social Media Apps"
        }
      }
    },
    {
      "$schema": "https://adcontextprotocol.org/schemas/v1/adagents.json",
      "authorized_agents": [
        {
          "authorized_for": "Tumblr corporate properties only",
          "property_tags": [
            "corporate"
          ],
          "url": "https://tumblr-sales.com"
        }
      ],
      "contact": {
        "name": "Tumblr Advertising"
      },
      "last_updated": "2025-01-10T16:00:00Z",
      "properties": [
        {
          "identifiers": [
            {
              "type": "domain",
              "value": "tumblr.com"
            }
          ],
          "name": "Tumblr Corporate",
          "property_type": "website",
          "publisher_domain": "tumblr.com",
          "tags": [
            "corporate"
          ]
        }
      ],
      "tags": {
        "corporate": {
          "description": "Tumblr-owned corporate properties (not user blogs)",
          "name": "Corporate Properties"
        }
      }
    },
    {
      "$schema": "https://adcontextprotocol.org/schemas/v1/adagents.json",
      "authorized_agents": [
        {
          "authorized_for": "CNN CTV properties via publisher authorization",
          "publisher_properties": [
            {
              "property_ids": [
                "cnn_ctv_app"
              ],
              "publisher_domain": "cnn.com"
            }
          ],
          "url": "https://agent.example/api"
        },
        {
          "authorized_for": "All CTV properties from multiple publishers",
          "publisher_properties": [
            {
              "property_tags": [
                "ctv"
              ],
              "publisher_domain": "cnn.com"
            },
            {
              "property_tags": [
                "ctv"
              ],
              "publisher_domain": "espn.com"
            }
          ],
          "url": "https://agent.example/api"
        }
      ],
      "contact": {
        "domain": "agent.example",
        "email": "sales@agent.example",
        "name": "Example Third-Party Sales Agent"
      },
      "last_updated": "2025-01-10T17:00:00Z"
    }
  ],
  "properties": {
    "$schema": {
      "default": "https://adcontextprotocol.org/schemas/v1/adagents.json",
      "description": "JSON Schema identifier for this adagents.json file",
      "type": "string"
    },
    "authorized_agents": {
      "description": "Array of sales agents authorized to sell inventory for properties in this file",
      "items": {
        "additionalProperties": false,
        "properties": {
          "authorized_for": {
            "description": "Human-readable description of what this agent is authorized to sell",
            "maxLength": 500,
            "minLength": 1,
            "type": "string"
          },
          "properties": {
            "description": "Specific properties this agent is authorized for (alternative to property_ids/property_tags). Mutually exclusive with property_ids and property_tags fields.",
            "items": {
              "$ref": "/schemas/v1/core/property.json"
            },
            "minItems": 1,
            "type": "array"
          },
          "property_ids": {
            "description": "Property IDs this agent is authorized for. Resolved against the top-level properties array in this file. Mutually exclusive with property_tags and properties fields.",
            "items": {
              "pattern": "^[a-z0-9_]+$",
              "type": "string"
            },
            "minItems": 1,
            "type": "array"
          },
          "property_tags": {
            "description": "Tags identifying which properties this agent is authorized for. Resolved against the top-level properties array in this file using tag matching. Mutually exclusive with property_ids and properties fields.",
            "items": {
              "pattern": "^[a-z0-9_]+$",
              "type": "string"
            },
            "minItems": 1,
            "type": "array"
          },
          "publisher_properties": {
            "description": "Properties from other publisher domains this agent is authorized for. Each entry specifies a publisher domain and which of their properties this agent can sell (by property_id or property_tags). Mutually exclusive with property_ids, property_tags, and properties fields.",
            "items": {
              "additionalProperties": false,
              "properties": {
                "property_ids": {
                  "description": "Specific property IDs from the publisher's adagents.json properties array. Mutually exclusive with property_tags.",
                  "items": {
                    "pattern": "^[a-z0-9_]+$",
                    "type": "string"
                  },
                  "minItems": 1,
                  "type": "array"
                },
                "property_tags": {
                  "description": "Property tags from the publisher's adagents.json tags. Agent is authorized for all properties with these tags. Mutually exclusive with property_ids.",
                  "items": {
                    "pattern": "^[a-z0-9_]+$",
                    "type": "string"
                  },
                  "minItems": 1,
                  "type": "array"
                },
                "publisher_domain": {
                  "description": "Domain where the publisher's adagents.json is hosted (e.g., 'cnn.com')",
                  "pattern": "^[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$",
                  "type": "string"
                }
              },
              "required": [
                "publisher_domain"
              ],
              "type": "object"
            },
            "minItems": 1,
            "type": "array"
          },
          "url": {
            "description": "The authorized agent's API endpoint URL",
            "format": "uri",
            "type": "string"
          }
        },
        "required": [
          "url",
          "authorized_for"
        ],
        "type": "object"
      },
      "minItems": 1,
      "type": "array"
    },
    "contact": {
      "additionalProperties": false,
      "description": "Contact information for the entity managing this adagents.json file (may be publisher or third-party operator)",
      "properties": {
        "domain": {
          "description": "Primary domain of the entity managing this file",
          "pattern": "^[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$",
          "type": "string"
        },
        "email": {
          "description": "Contact email for questions or issues with this authorization file",
          "format": "email",
          "maxLength": 255,
          "minLength": 1,
          "type": "string"
        },
        "name": {
          "description": "Name of the entity managing this file (e.g., 'Meta Advertising Operations', 'Clear Channel Digital')",
          "maxLength": 255,
          "minLength": 1,
          "type": "string"
        },
        "seller_id": {
          "description": "Seller ID from IAB Tech Lab sellers.json (if applicable)",
          "maxLength": 255,
          "minLength": 1,
          "type": "string"
        },
        "tag_id": {
          "description": "TAG Certified Against Fraud ID for verification (if applicable)",
          "maxLength": 100,
          "minLength": 1,
          "type": "string"
        }
      },
      "required": [
        "name"
      ],
      "type": "object"
    },
    "last_updated": {
      "description": "ISO 8601 timestamp indicating when this file was last updated",
      "format": "date-time",
      "type": "string"
    },
    "properties": {
      "description": "Array of all properties covered by this adagents.json file. Same structure as list_authorized_properties response.",
      "items": {
        "$ref": "/schemas/v1/core/property.json"
      },
      "minItems": 1,
      "type": "array"
    },
    "tags": {
      "additionalProperties": {
        "additionalProperties": false,
        "properties": {
          "description": {
            "description": "Description of what this tag represents",
            "type": "string"
          },
          "name": {
            "description": "Human-readable name for this tag",
            "type": "string"
          }
        },
        "required": [
          "name",
          "description"
        ],
        "type": "object"
      },
      "description": "Metadata for each tag referenced by properties. Same structure as list_authorized_properties response.",
      "type": "object"
    }
  },
  "required": [
    "authorized_agents"
  ],
  "title": "Authorized Sales Agents",
  "type": "object"
}