{
  "$id": "/schemas/v1/core/destination.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "A destination platform where signals can be activated (DSP, sales agent, etc.)",
  "oneOf": [
    {
      "additionalProperties": false,
      "properties": {
        "account": {
          "description": "Optional account identifier on the platform",
          "type": "string"
        },
        "platform": {
          "description": "Platform identifier for DSPs (e.g., 'the-trade-desk', 'amazon-dsp')",
          "type": "string"
        },
        "type": {
          "const": "platform",
          "description": "Discriminator indicating this is a platform-based destination"
        }
      },
      "required": [
        "type",
        "platform"
      ],
      "type": "object"
    },
    {
      "additionalProperties": false,
      "properties": {
        "account": {
          "description": "Optional account identifier on the agent",
          "type": "string"
        },
        "agent_url": {
          "description": "URL identifying the destination agent (for sales agents, etc.)",
          "format": "uri",
          "type": "string"
        },
        "type": {
          "const": "agent",
          "description": "Discriminator indicating this is an agent URL-based destination"
        }
      },
      "required": [
        "type",
        "agent_url"
      ],
      "type": "object"
    }
  ],
  "title": "Destination"
}