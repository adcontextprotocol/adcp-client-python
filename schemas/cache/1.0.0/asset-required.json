{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "/schemas/v1/core/asset-required.json",
  "title": "AssetRequired",
  "description": "Asset requirement for a format - either an individual asset or a repeatable asset group",
  "oneOf": [
    {
      "description": "Individual asset requirement",
      "type": "object",
      "properties": {
        "asset_id": {
          "type": "string",
          "description": "Unique identifier for this asset. Creative manifests MUST use this exact value as the key in the assets object."
        },
        "asset_type": {
          "type": "string",
          "description": "Type of asset",
          "enum": [
            "image",
            "video",
            "audio",
            "vast",
            "daast",
            "text",
            "markdown",
            "html",
            "css",
            "javascript",
            "url",
            "webhook",
            "promoted_offerings"
          ]
        },
        "asset_role": {
          "type": "string",
          "description": "Optional descriptive label for this asset's purpose (e.g., 'hero_image', 'logo'). Not used for referencing assets in manifests—use asset_id instead. This field is for human-readable documentation and UI display only."
        },
        "required": {
          "type": "boolean",
          "description": "Whether this asset is required"
        },
        "requirements": {
          "type": "object",
          "description": "Technical requirements for this asset (dimensions, file size, duration, etc.)",
          "additionalProperties": true
        }
      },
      "required": [
        "asset_id",
        "asset_type"
      ],
      "additionalProperties": false
    },
    {
      "description": "Repeatable asset group (for carousels, slideshows, playlists, etc.)",
      "type": "object",
      "properties": {
        "asset_group_id": {
          "type": "string",
          "description": "Identifier for this asset group (e.g., 'product', 'slide', 'card')"
        },
        "repeatable": {
          "type": "boolean",
          "description": "Indicates this is a repeatable asset group",
          "enum": [
            true
          ]
        },
        "min_count": {
          "type": "integer",
          "description": "Minimum number of repetitions required",
          "minimum": 1
        },
        "max_count": {
          "type": "integer",
          "description": "Maximum number of repetitions allowed",
          "minimum": 1
        },
        "assets": {
          "type": "array",
          "description": "Assets within each repetition of this group",
          "items": {
            "type": "object",
            "properties": {
              "asset_id": {
                "type": "string",
                "description": "Identifier for this asset within the group"
              },
              "asset_type": {
                "type": "string",
                "description": "Type of asset",
                "enum": [
                  "image",
                  "video",
                  "audio",
                  "vast",
                  "daast",
                  "text",
                  "markdown",
                  "html",
                  "css",
                  "javascript",
                  "url",
                  "webhook",
                  "promoted_offerings"
                ]
              },
              "asset_role": {
                "type": "string",
                "description": "Optional descriptive label for this asset's purpose (e.g., 'hero_image', 'logo'). Not used for referencing assets in manifests—use asset_id instead. This field is for human-readable documentation and UI display only."
              },
              "required": {
                "type": "boolean",
                "description": "Whether this asset is required in each repetition"
              },
              "requirements": {
                "type": "object",
                "description": "Technical requirements for this asset",
                "additionalProperties": true
              }
            },
            "required": [
              "asset_id",
              "asset_type"
            ]
          }
        }
      },
      "required": [
        "asset_group_id",
        "repeatable",
        "min_count",
        "max_count",
        "assets"
      ],
      "additionalProperties": false
    }
  ]
}
