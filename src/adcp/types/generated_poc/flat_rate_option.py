# generated by datamodel-codegen:
#   filename:  flat-rate-option.json
#   timestamp: 2025-11-15T17:40:22+00:00

from __future__ import annotations

from typing import Literal

from adcp.types.base import AdCPBaseModel
from pydantic import ConfigDict, Field


class Parameters(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    duration_hours: float | None = Field(
        None, description='Duration in hours for time-based flat rate pricing (DOOH)', ge=0.0
    )
    sov_percentage: float | None = Field(
        None, description='Guaranteed share of voice as percentage (DOOH, 0-100)', ge=0.0, le=100.0
    )
    loop_duration_seconds: int | None = Field(
        None, description='Duration of ad loop rotation in seconds (DOOH)', ge=1
    )
    min_plays_per_hour: int | None = Field(
        None,
        description='Minimum number of times ad plays per hour (DOOH frequency guarantee)',
        ge=0,
    )
    venue_package: str | None = Field(
        None,
        description="Named venue package identifier for DOOH (e.g., 'times_square_network', 'airport_terminals')",
    )
    estimated_impressions: int | None = Field(
        None,
        description='Estimated impressions for this flat rate option (informational, commonly used with SOV or time-based DOOH)',
        ge=0,
    )
    daypart: str | None = Field(
        None,
        description="Specific daypart for time-based pricing (e.g., 'morning_commute', 'evening_prime', 'overnight')",
    )


class FlatRatePricingOption(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    pricing_option_id: str = Field(
        ...,
        description="Unique identifier for this pricing option within the product (e.g., 'flat_rate_usd_24h_takeover')",
    )
    pricing_model: Literal['flat_rate'] = Field(
        ..., description='Fixed cost regardless of delivery volume'
    )
    rate: float = Field(..., description='Flat rate cost', ge=0.0)
    currency: str = Field(
        ...,
        description='ISO 4217 currency code',
        examples=['USD', 'EUR', 'GBP', 'JPY'],
        pattern='^[A-Z]{3}$',
    )
    is_fixed: Literal[True] = Field(
        ..., description='Whether this is a fixed rate (true) or auction-based (false)'
    )
    parameters: Parameters | None = Field(
        None, description='Flat rate parameters for DOOH and time-based campaigns'
    )
    min_spend_per_package: float | None = Field(
        None,
        description='Minimum spend requirement per package using this pricing option, in the specified currency',
        ge=0.0,
    )
