# generated by datamodel-codegen:
#   filename:  list-authorized-properties-response.json
#   timestamp: 2025-11-15T17:40:41+00:00

from __future__ import annotations

from enum import Enum
from typing import Any

from adcp.types.base import AdCPBaseModel
from pydantic import AwareDatetime, ConfigDict, Field, RootModel


class PublisherDomain(RootModel[str]):
    root: str = Field(
        ...,
        description="Domain where publisher's adagents.json is hosted (e.g., 'cnn.com')",
        pattern='^[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$',
    )


class PrimaryCountry(RootModel[str]):
    root: str = Field(..., pattern='^[A-Z]{2}$')


class Channels(Enum):
    display = 'display'
    video = 'video'
    audio = 'audio'
    native = 'native'
    dooh = 'dooh'
    ctv = 'ctv'
    podcast = 'podcast'
    retail = 'retail'
    social = 'social'


class Error(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    code: str = Field(..., description='Error code for programmatic handling')
    message: str = Field(..., description='Human-readable error message')
    field: str | None = Field(
        None, description="Field path associated with the error (e.g., 'packages[0].targeting')"
    )
    suggestion: str | None = Field(None, description='Suggested fix for the error')
    retry_after: float | None = Field(
        None, description='Seconds to wait before retrying the operation', ge=0.0
    )
    details: Any | None = Field(None, description='Additional task-specific error details')


class ListAuthorizedPropertiesResponse(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    publisher_domains: list[PublisherDomain] = Field(
        ...,
        description="Publisher domains this agent is authorized to represent. Buyers should fetch each publisher's adagents.json to see property definitions and verify this agent is in their authorized_agents list with authorization scope.",
        min_length=1,
    )
    primary_channels: list[Channels] | None = Field(
        None,
        description='Primary advertising channels represented in this property portfolio. Helps buying agents quickly filter relevance.',
        min_length=1,
    )
    primary_countries: list[PrimaryCountry] | None = Field(
        None,
        description='Primary countries (ISO 3166-1 alpha-2 codes) where properties are concentrated. Helps buying agents quickly filter relevance.',
        min_length=1,
    )
    portfolio_description: str | None = Field(
        None,
        description='Markdown-formatted description of the property portfolio, including inventory types, audience characteristics, and special features.',
        max_length=5000,
        min_length=1,
    )
    advertising_policies: str | None = Field(
        None,
        description="Publisher's advertising content policies, restrictions, and guidelines in natural language. May include prohibited categories, blocked advertisers, restricted tactics, brand safety requirements, or links to full policy documentation.",
        max_length=10000,
        min_length=1,
    )
    last_updated: AwareDatetime | None = Field(
        None,
        description="ISO 8601 timestamp of when the agent's publisher authorization list was last updated. Buyers can use this to determine if their cached publisher adagents.json files might be stale.",
    )
    errors: list[Error] | None = Field(
        None, description='Task-specific errors and warnings (e.g., property availability issues)'
    )
    context: dict[str, Any] | None = Field(
        None,
        description='Initiator-provided context echoed inside the task payload. Opaque metadata such as UI/session hints, correlation tokens, or tracking identifiers.',
    )
