# generated by datamodel-codegen:
#   filename:  build-creative-request.json
#   timestamp: 2025-11-15T17:39:55+00:00

from __future__ import annotations

from enum import Enum
from typing import Any, Literal

from adcp.types.base import AdCPBaseModel
from pydantic import AnyUrl, AwareDatetime, ConfigDict, EmailStr, Field, RootModel


class FormatId(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    agent_url: AnyUrl = Field(
        ...,
        description="URL of the agent that defines this format (e.g., 'https://creatives.adcontextprotocol.org' for standard formats, or 'https://publisher.com/.well-known/adcp/sales' for custom formats)",
    )
    id: str = Field(
        ...,
        description="Format identifier within the agent's namespace (e.g., 'display_300x250', 'video_standard_30s')",
        pattern='^[a-zA-Z0-9_-]+$',
    )


class ImageAsset(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    url: AnyUrl = Field(..., description='URL to the image asset')
    width: int | None = Field(None, description='Image width in pixels', ge=1)
    height: int | None = Field(None, description='Image height in pixels', ge=1)
    format: str | None = Field(None, description='Image file format (jpg, png, gif, webp, etc.)')
    alt_text: str | None = Field(None, description='Alternative text for accessibility')


class VideoAsset(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    url: AnyUrl = Field(..., description='URL to the video asset')
    width: int | None = Field(None, description='Video width in pixels', ge=1)
    height: int | None = Field(None, description='Video height in pixels', ge=1)
    duration_ms: int | None = Field(None, description='Video duration in milliseconds', ge=0)
    format: str | None = Field(None, description='Video file format (mp4, webm, mov, etc.)')
    bitrate_kbps: int | None = Field(None, description='Video bitrate in kilobits per second', ge=1)


class AudioAsset(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    url: AnyUrl = Field(..., description='URL to the audio asset')
    duration_ms: int | None = Field(None, description='Audio duration in milliseconds', ge=0)
    format: str | None = Field(None, description='Audio file format (mp3, wav, aac, etc.)')
    bitrate_kbps: int | None = Field(None, description='Audio bitrate in kilobits per second', ge=1)


class VastVersion(Enum):
    field_2_0 = '2.0'
    field_3_0 = '3.0'
    field_4_0 = '4.0'
    field_4_1 = '4.1'
    field_4_2 = '4.2'


class TrackingEvent(Enum):
    start = 'start'
    firstQuartile = 'firstQuartile'
    midpoint = 'midpoint'
    thirdQuartile = 'thirdQuartile'
    complete = 'complete'
    impression = 'impression'
    click = 'click'
    pause = 'pause'
    resume = 'resume'
    skip = 'skip'
    mute = 'mute'
    unmute = 'unmute'
    fullscreen = 'fullscreen'
    exitFullscreen = 'exitFullscreen'
    playerExpand = 'playerExpand'
    playerCollapse = 'playerCollapse'


class VastAsset1(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    delivery_type: Literal['url'] = Field(
        ..., description='Discriminator indicating VAST is delivered via URL endpoint'
    )
    url: AnyUrl = Field(..., description='URL endpoint that returns VAST XML')
    vast_version: VastVersion | None = Field(None, description='VAST specification version')
    vpaid_enabled: bool | None = Field(
        None, description='Whether VPAID (Video Player-Ad Interface Definition) is supported'
    )
    duration_ms: int | None = Field(
        None, description='Expected video duration in milliseconds (if known)', ge=0
    )
    tracking_events: list[TrackingEvent] | None = Field(
        None, description='Tracking events supported by this VAST tag'
    )


class VastAsset2(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    delivery_type: Literal['inline'] = Field(
        ..., description='Discriminator indicating VAST is delivered as inline XML content'
    )
    content: str = Field(..., description='Inline VAST XML content')
    vast_version: VastVersion | None = Field(None, description='VAST specification version')
    vpaid_enabled: bool | None = Field(
        None, description='Whether VPAID (Video Player-Ad Interface Definition) is supported'
    )
    duration_ms: int | None = Field(
        None, description='Expected video duration in milliseconds (if known)', ge=0
    )
    tracking_events: list[TrackingEvent] | None = Field(
        None, description='Tracking events supported by this VAST tag'
    )


class VastAsset(RootModel[VastAsset1 | VastAsset2]):
    root: VastAsset1 | VastAsset2 = Field(
        ...,
        description='VAST (Video Ad Serving Template) tag for third-party video ad serving',
        title='VAST Asset',
    )


class TextAsset(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    content: str = Field(..., description='Text content')
    language: str | None = Field(None, description="Language code (e.g., 'en', 'es', 'fr')")


class UrlType(Enum):
    clickthrough = 'clickthrough'
    tracker_pixel = 'tracker_pixel'
    tracker_script = 'tracker_script'


class UrlAsset(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    url: AnyUrl = Field(..., description='URL reference')
    url_type: UrlType | None = Field(
        None,
        description="Type of URL asset: 'clickthrough' for user click destination (landing page), 'tracker_pixel' for impression/event tracking via HTTP request (fires GET, expects pixel/204 response), 'tracker_script' for measurement SDKs that must load as <script> tag (OMID verification, native event trackers using method:2)",
    )
    description: str | None = Field(None, description='Description of what this URL points to')


class HtmlAsset(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    content: str = Field(..., description='HTML content')
    version: str | None = Field(None, description="HTML version (e.g., 'HTML5')")


class ModuleType(Enum):
    esm = 'esm'
    commonjs = 'commonjs'
    script = 'script'


class JavascriptAsset(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    content: str = Field(..., description='JavaScript content')
    module_type: ModuleType | None = Field(None, description='JavaScript module type')


class Method(Enum):
    GET = 'GET'
    POST = 'POST'


class ResponseType(Enum):
    html = 'html'
    json = 'json'
    xml = 'xml'
    javascript = 'javascript'


class Method1(Enum):
    hmac_sha256 = 'hmac_sha256'
    api_key = 'api_key'
    none = 'none'


class Security(AdCPBaseModel):
    method: Method1 = Field(..., description='Authentication method')
    hmac_header: str | None = Field(
        None, description="Header name for HMAC signature (e.g., 'X-Signature')"
    )
    api_key_header: str | None = Field(
        None, description="Header name for API key (e.g., 'X-API-Key')"
    )


class WebhookAsset(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    url: AnyUrl = Field(..., description='Webhook URL to call for dynamic content')
    method: Method | None = Field('POST', description='HTTP method')
    timeout_ms: int | None = Field(
        500, description='Maximum time to wait for response in milliseconds', ge=10, le=5000
    )
    supported_macros: list[str] | None = Field(
        None,
        description='Universal macros that can be passed to webhook (e.g., {DEVICE_TYPE}, {COUNTRY})',
    )
    required_macros: list[str] | None = Field(
        None, description='Universal macros that must be provided for webhook to function'
    )
    response_type: ResponseType = Field(
        ..., description='Expected content type of webhook response'
    )
    security: Security = Field(..., description='Security configuration for webhook calls')


class CssAsset(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    content: str = Field(..., description='CSS content')
    media: str | None = Field(None, description="CSS media query context (e.g., 'screen', 'print')")


class DaastVersion(Enum):
    field_1_0 = '1.0'
    field_1_1 = '1.1'


class TrackingEvent2(Enum):
    start = 'start'
    firstQuartile = 'firstQuartile'
    midpoint = 'midpoint'
    thirdQuartile = 'thirdQuartile'
    complete = 'complete'
    impression = 'impression'
    pause = 'pause'
    resume = 'resume'
    skip = 'skip'
    mute = 'mute'
    unmute = 'unmute'


class DaastAsset1(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    delivery_type: Literal['url'] = Field(
        ..., description='Discriminator indicating DAAST is delivered via URL endpoint'
    )
    url: AnyUrl = Field(..., description='URL endpoint that returns DAAST XML')
    daast_version: DaastVersion | None = Field(None, description='DAAST specification version')
    duration_ms: int | None = Field(
        None, description='Expected audio duration in milliseconds (if known)', ge=0
    )
    tracking_events: list[TrackingEvent2] | None = Field(
        None, description='Tracking events supported by this DAAST tag'
    )
    companion_ads: bool | None = Field(
        None, description='Whether companion display ads are included'
    )


class DaastAsset2(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    delivery_type: Literal['inline'] = Field(
        ..., description='Discriminator indicating DAAST is delivered as inline XML content'
    )
    content: str = Field(..., description='Inline DAAST XML content')
    daast_version: DaastVersion | None = Field(None, description='DAAST specification version')
    duration_ms: int | None = Field(
        None, description='Expected audio duration in milliseconds (if known)', ge=0
    )
    tracking_events: list[TrackingEvent2] | None = Field(
        None, description='Tracking events supported by this DAAST tag'
    )
    companion_ads: bool | None = Field(
        None, description='Whether companion display ads are included'
    )


class DaastAsset(RootModel[DaastAsset1 | DaastAsset2]):
    root: DaastAsset1 | DaastAsset2 = Field(
        ...,
        description='DAAST (Digital Audio Ad Serving Template) tag for third-party audio ad serving',
        title='DAAST Asset',
    )


class Offering(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    name: str = Field(..., description="Offering name (e.g., 'Winter Sale', 'New Product Launch')")
    description: str | None = Field(None, description="Description of what's being offered")
    assets: list[dict[str, Any]] | None = Field(
        None, description='Assets specific to this offering'
    )


class AssetType(Enum):
    image = 'image'
    video = 'video'
    audio = 'audio'
    vast = 'vast'
    daast = 'daast'
    text = 'text'
    url = 'url'
    html = 'html'
    css = 'css'
    javascript = 'javascript'
    webhook = 'webhook'


class AssetSelectors(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    tags: list[str] | None = Field(
        None, description="Select assets with specific tags (e.g., ['holiday', 'premium'])"
    )
    asset_types: list[AssetType] | None = Field(
        None, description="Filter by asset type (e.g., ['image', 'video'])"
    )
    exclude_tags: list[str] | None = Field(None, description='Exclude assets with these tags')


class Logo(AdCPBaseModel):
    url: AnyUrl = Field(..., description='URL to the logo asset')
    tags: list[str] | None = Field(
        None,
        description="Semantic tags describing the logo variant (e.g., 'dark', 'light', 'square', 'horizontal', 'icon')",
    )
    width: int | None = Field(None, description='Logo width in pixels')
    height: int | None = Field(None, description='Logo height in pixels')


class Colors(AdCPBaseModel):
    primary: str | None = Field(
        None, description='Primary brand color (hex format)', pattern='^#[0-9A-Fa-f]{6}$'
    )
    secondary: str | None = Field(
        None, description='Secondary brand color (hex format)', pattern='^#[0-9A-Fa-f]{6}$'
    )
    accent: str | None = Field(
        None, description='Accent color (hex format)', pattern='^#[0-9A-Fa-f]{6}$'
    )
    background: str | None = Field(
        None, description='Background color (hex format)', pattern='^#[0-9A-Fa-f]{6}$'
    )
    text: str | None = Field(
        None, description='Text color (hex format)', pattern='^#[0-9A-Fa-f]{6}$'
    )


class Fonts(AdCPBaseModel):
    primary: str | None = Field(None, description='Primary font family name')
    secondary: str | None = Field(None, description='Secondary font family name')
    font_urls: list[AnyUrl] | None = Field(
        None, description='URLs to web font files if using custom fonts'
    )


class AssetType1(Enum):
    image = 'image'
    video = 'video'
    audio = 'audio'
    text = 'text'


class Asset(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    asset_id: str = Field(..., description='Unique identifier for this asset')
    asset_type: AssetType1 = Field(..., description='Type of asset')
    url: AnyUrl = Field(..., description='URL to CDN-hosted asset file')
    tags: list[str] | None = Field(
        None, description="Tags for asset discovery (e.g., 'holiday', 'lifestyle', 'product_shot')"
    )
    name: str | None = Field(None, description='Human-readable asset name')
    description: str | None = Field(None, description='Asset description or usage notes')
    width: int | None = Field(None, description='Image/video width in pixels')
    height: int | None = Field(None, description='Image/video height in pixels')
    duration_seconds: float | None = Field(None, description='Video/audio duration in seconds')
    file_size_bytes: int | None = Field(None, description='File size in bytes')
    format: str | None = Field(None, description="File format (e.g., 'jpg', 'mp4', 'mp3')")
    metadata: dict[str, Any] | None = Field(None, description='Additional asset-specific metadata')


class FeedFormat(Enum):
    google_merchant_center = 'google_merchant_center'
    facebook_catalog = 'facebook_catalog'
    custom = 'custom'


class UpdateFrequency(Enum):
    realtime = 'realtime'
    hourly = 'hourly'
    daily = 'daily'
    weekly = 'weekly'


class ProductCatalog(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    feed_url: AnyUrl = Field(..., description='URL to product catalog feed')
    feed_format: FeedFormat | None = Field(
        'google_merchant_center', description='Format of the product feed'
    )
    categories: list[str] | None = Field(
        None, description='Product categories available in the catalog (for filtering)'
    )
    last_updated: AwareDatetime | None = Field(
        None, description='When the product catalog was last updated'
    )
    update_frequency: UpdateFrequency | None = Field(
        None, description='How frequently the product catalog is updated'
    )


class Disclaimer(AdCPBaseModel):
    text: str = Field(..., description='Disclaimer text')
    context: str | None = Field(
        None,
        description="When this disclaimer applies (e.g., 'financial_products', 'health_claims', 'all')",
    )
    required: bool | None = Field(True, description='Whether this disclaimer must appear')


class Contact(AdCPBaseModel):
    email: EmailStr | None = Field(None, description='Contact email')
    phone: str | None = Field(None, description='Contact phone number')


class Metadata(AdCPBaseModel):
    created_date: AwareDatetime | None = Field(
        None, description='When this brand manifest was created'
    )
    updated_date: AwareDatetime | None = Field(
        None, description='When this brand manifest was last updated'
    )
    version: str | None = Field(None, description='Brand card version number')


class BrandManifest1(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    url: AnyUrl = Field(
        ...,
        description='Primary brand URL for context and asset discovery. Creative agents can infer brand information from this URL.',
    )
    name: str | None = Field(None, description='Brand or business name')
    logos: list[Logo] | None = Field(
        None, description='Brand logo assets with semantic tags for different use cases'
    )
    colors: Colors | None = Field(None, description='Brand color palette')
    fonts: Fonts | None = Field(None, description='Brand typography guidelines')
    tone: str | None = Field(
        None,
        description="Brand voice and messaging tone (e.g., 'professional', 'casual', 'humorous', 'trustworthy', 'innovative')",
    )
    tagline: str | None = Field(None, description='Brand tagline or slogan')
    assets: list[Asset] | None = Field(
        None,
        description='Brand asset library with explicit assets and tags. Assets are referenced inline with URLs pointing to CDN-hosted files.',
    )
    product_catalog: ProductCatalog | None = Field(
        None,
        description='Product catalog information for e-commerce advertisers. Enables SKU-level creative generation and product selection.',
    )
    disclaimers: list[Disclaimer] | None = Field(
        None, description='Legal disclaimers or required text that must appear in creatives'
    )
    industry: str | None = Field(
        None,
        description="Industry or vertical (e.g., 'retail', 'automotive', 'finance', 'healthcare')",
    )
    target_audience: str | None = Field(None, description='Primary target audience description')
    contact: Contact | None = Field(None, description='Brand contact information')
    metadata: Metadata | None = Field(None, description='Additional brand metadata')


class Asset1(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    asset_id: str = Field(..., description='Unique identifier for this asset')
    asset_type: AssetType1 = Field(..., description='Type of asset')
    url: AnyUrl = Field(..., description='URL to CDN-hosted asset file')
    tags: list[str] | None = Field(
        None, description="Tags for asset discovery (e.g., 'holiday', 'lifestyle', 'product_shot')"
    )
    name: str | None = Field(None, description='Human-readable asset name')
    description: str | None = Field(None, description='Asset description or usage notes')
    width: int | None = Field(None, description='Image/video width in pixels')
    height: int | None = Field(None, description='Image/video height in pixels')
    duration_seconds: float | None = Field(None, description='Video/audio duration in seconds')
    file_size_bytes: int | None = Field(None, description='File size in bytes')
    format: str | None = Field(None, description="File format (e.g., 'jpg', 'mp4', 'mp3')")
    metadata: dict[str, Any] | None = Field(None, description='Additional asset-specific metadata')


class ProductCatalog1(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    feed_url: AnyUrl = Field(..., description='URL to product catalog feed')
    feed_format: FeedFormat | None = Field(
        'google_merchant_center', description='Format of the product feed'
    )
    categories: list[str] | None = Field(
        None, description='Product categories available in the catalog (for filtering)'
    )
    last_updated: AwareDatetime | None = Field(
        None, description='When the product catalog was last updated'
    )
    update_frequency: UpdateFrequency | None = Field(
        None, description='How frequently the product catalog is updated'
    )


class BrandManifest2(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    url: AnyUrl | None = Field(
        None,
        description='Primary brand URL for context and asset discovery. Creative agents can infer brand information from this URL.',
    )
    name: str = Field(..., description='Brand or business name')
    logos: list[Logo] | None = Field(
        None, description='Brand logo assets with semantic tags for different use cases'
    )
    colors: Colors | None = Field(None, description='Brand color palette')
    fonts: Fonts | None = Field(None, description='Brand typography guidelines')
    tone: str | None = Field(
        None,
        description="Brand voice and messaging tone (e.g., 'professional', 'casual', 'humorous', 'trustworthy', 'innovative')",
    )
    tagline: str | None = Field(None, description='Brand tagline or slogan')
    assets: list[Asset1] | None = Field(
        None,
        description='Brand asset library with explicit assets and tags. Assets are referenced inline with URLs pointing to CDN-hosted files.',
    )
    product_catalog: ProductCatalog1 | None = Field(
        None,
        description='Product catalog information for e-commerce advertisers. Enables SKU-level creative generation and product selection.',
    )
    disclaimers: list[Disclaimer] | None = Field(
        None, description='Legal disclaimers or required text that must appear in creatives'
    )
    industry: str | None = Field(
        None,
        description="Industry or vertical (e.g., 'retail', 'automotive', 'finance', 'healthcare')",
    )
    target_audience: str | None = Field(None, description='Primary target audience description')
    contact: Contact | None = Field(None, description='Brand contact information')
    metadata: Metadata | None = Field(None, description='Additional brand metadata')


class BrandManifest(RootModel[BrandManifest1 | BrandManifest2]):
    root: BrandManifest1 | BrandManifest2 = Field(
        ...,
        description='Standardized brand information manifest for creative generation and media buying. Enables low-friction creative workflows by providing brand context that can be easily cached and shared across requests.',
        examples=[
            {
                'description': 'Example with both URL and name',
                'data': {'url': 'https://bobsfunburgers.com', 'name': "Bob's Fun Burgers"},
            },
            {
                'description': 'Example: white-label brand without dedicated URL',
                'data': {
                    'name': 'Great Value',
                    'colors': {'primary': '#0071CE', 'secondary': '#FFC220'},
                    'tone': 'affordable and trustworthy',
                },
            },
            {
                'description': 'Full brand manifest with all fields',
                'data': {
                    'url': 'https://acmecorp.com',
                    'name': 'ACME Corporation',
                    'logos': [
                        {
                            'url': 'https://cdn.acmecorp.com/logo-square-dark.png',
                            'tags': ['dark', 'square'],
                            'width': 512,
                            'height': 512,
                        },
                        {
                            'url': 'https://cdn.acmecorp.com/logo-horizontal-light.png',
                            'tags': ['light', 'horizontal'],
                            'width': 1200,
                            'height': 400,
                        },
                    ],
                    'colors': {
                        'primary': '#FF6B35',
                        'secondary': '#004E89',
                        'accent': '#F7931E',
                        'background': '#FFFFFF',
                        'text': '#1A1A1A',
                    },
                    'fonts': {'primary': 'Helvetica Neue', 'secondary': 'Georgia'},
                    'tone': 'professional and trustworthy',
                    'tagline': 'Innovation You Can Trust',
                    'assets': [
                        {
                            'asset_id': 'hero_winter_2024',
                            'asset_type': 'image',
                            'url': 'https://cdn.acmecorp.com/hero-winter-2024.jpg',
                            'tags': ['hero', 'winter', 'holiday', 'lifestyle'],
                            'name': 'Winter Campaign Hero',
                            'width': 1920,
                            'height': 1080,
                            'format': 'jpg',
                        },
                        {
                            'asset_id': 'product_video_30s',
                            'asset_type': 'video',
                            'url': 'https://cdn.acmecorp.com/product-demo-30s.mp4',
                            'tags': ['product', 'demo', '30s'],
                            'name': 'Product Demo 30 Second',
                            'width': 1920,
                            'height': 1080,
                            'duration_seconds': 30,
                            'format': 'mp4',
                        },
                    ],
                    'product_catalog': {
                        'feed_url': 'https://acmecorp.com/products.xml',
                        'feed_format': 'google_merchant_center',
                        'categories': ['electronics/computers', 'electronics/accessories'],
                        'last_updated': '2024-03-15T10:00:00Z',
                        'update_frequency': 'hourly',
                    },
                    'disclaimers': [
                        {
                            'text': 'Results may vary. Consult a professional before use.',
                            'context': 'health_claims',
                            'required': True,
                        }
                    ],
                    'industry': 'technology',
                    'target_audience': 'business decision-makers aged 35-55',
                },
            },
        ],
        title='Brand Manifest',
    )


class PromotedProducts(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    manifest_skus: list[str] | None = Field(
        None, description='Direct product SKU references from the brand manifest product catalog'
    )
    manifest_tags: list[str] | None = Field(
        None,
        description="Select products by tags from the brand manifest product catalog (e.g., 'organic', 'sauces', 'holiday')",
    )
    manifest_category: str | None = Field(
        None,
        description="Select products from a specific category in the brand manifest product catalog (e.g., 'beverages/soft-drinks', 'food/sauces')",
    )
    manifest_query: str | None = Field(
        None,
        description="Natural language query to select products from the brand manifest (e.g., 'all Kraft Heinz pasta sauces', 'organic products under $20')",
    )


class BrandManifestRef(RootModel[BrandManifest | AnyUrl]):
    root: BrandManifest | AnyUrl = Field(
        ...,
        description='Brand manifest provided either as an inline object or a URL string pointing to a hosted manifest',
        examples=[
            {
                'description': 'Inline brand manifest',
                'data': {
                    'url': 'https://acmecorp.com',
                    'name': 'ACME Corporation',
                    'colors': {'primary': '#FF6B35'},
                },
            },
            {
                'description': 'URL string reference to hosted manifest',
                'data': 'https://cdn.acmecorp.com/brand-manifest.json',
            },
        ],
        title='Brand Manifest Reference',
    )


class PromotedOfferings(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    brand_manifest: BrandManifestRef = Field(
        ...,
        description='Brand information manifest containing assets, themes, and guidelines. Can be provided inline or as a URL reference to a hosted manifest.',
    )
    product_selectors: PromotedProducts | None = Field(
        None,
        description='Selectors to choose which products/offerings from the brand manifest product catalog to promote',
    )
    offerings: list[Offering] | None = Field(
        None,
        description='Inline offerings for campaigns without a product catalog. Each offering has a name, description, and associated assets.',
    )
    asset_selectors: AssetSelectors | None = Field(
        None, description='Selectors to choose specific assets from the brand manifest'
    )


class CreativeManifest(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    format_id: FormatId = Field(..., description='Format identifier this manifest is for')
    promoted_offering: str | None = Field(
        None,
        description='Product name or offering being advertised. Maps to promoted_offerings in create_media_buy request to associate creative with the product being promoted.',
    )
    assets: dict[
        str,
        ImageAsset
        | VideoAsset
        | AudioAsset
        | VastAsset
        | TextAsset
        | UrlAsset
        | HtmlAsset
        | JavascriptAsset
        | WebhookAsset
        | CssAsset
        | DaastAsset
        | PromotedOfferings,
    ] = Field(
        ...,
        description="Map of asset IDs to actual asset content. Each key MUST match an asset_id from the format's assets_required array (e.g., 'banner_image', 'clickthrough_url', 'video_file', 'vast_tag'). The asset_id is the technical identifier used to match assets to format requirements.\n\nIMPORTANT: Creative manifest validation MUST be performed in the context of the format specification. The format defines what type each asset_id should be, which eliminates any validation ambiguity.",
    )


class BuildCreativeRequest(AdCPBaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    message: str | None = Field(
        None,
        description='Natural language instructions for the transformation or generation. For pure generation, this is the creative brief. For transformation, this provides guidance on how to adapt the creative.',
    )
    creative_manifest: CreativeManifest | None = Field(
        None,
        description='Creative manifest to transform or generate from. For pure generation, this should include the target format_id and any required input assets (e.g., promoted_offerings for generative formats). For transformation (e.g., resizing, reformatting), this is the complete creative to adapt.',
    )
    target_format_id: FormatId = Field(
        ...,
        description='Format ID to generate. The format definition specifies required input assets and output structure.',
    )
    context: dict[str, Any] | None = Field(
        None,
        description='Initiator-provided context included in the request payload. Agentsmust echo this value back unchanged in responses and webhooks. Use for UI/session hints, correlation tokens, or tracking metadata.',
    )
